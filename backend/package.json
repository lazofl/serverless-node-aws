{
  "name": "serverless-backend",
  "version": "1.0.0",
  "description": "AWS Lambda backend for user management",
  "main": "index.js",
  "scripts": {
    "db:start": "docker run -d -p 8000:8000 --name dynamodb-local amazon/dynamodb-local",
    "db:stop": "docker stop dynamodb-local && docker rm dynamodb-local",
    "dev": "serverless offline start",
    "build": "tsc",
    "build:bundle": "yarn build:getUser && yarn build:addUser && yarn build:getAllUsers",
    "build:getUser": "esbuild src/getUser.ts --bundle --platform=node --target=node20 --outfile=dist/getUser.js --external:@aws-sdk/*",
    "build:addUser": "esbuild src/addUser.ts --bundle --platform=node --target=node20 --outfile=dist/addUser.js --external:@aws-sdk/*",
    "build:getAllUsers": "esbuild src/getAllUsers.ts --bundle --platform=node --target=node20 --outfile=dist/getAllUsers.js --external:@aws-sdk/*",
    "package": "yarn build:bundle && yarn package:zip",
    "package:zip": "cd dist && zip -r getUser.zip getUser.js && zip -r addUser.zip addUser.js && zip -r getAllUsers.zip getAllUsers.js",
    "deploy:getUser": "yarn build:getUser && cd dist && zip -r getUser.zip getUser.js && aws lambda update-function-code --function-name serverless-user-app-getUser --zip-file fileb://getUser.zip",
    "deploy:addUser": "yarn build:addUser && cd dist && zip -r addUser.zip addUser.js && aws lambda update-function-code --function-name serverless-user-app-addUser --zip-file fileb://addUser.zip",
    "deploy:getAllUsers": "yarn build:getAllUsers && cd dist && zip -r getAllUsers.zip getAllUsers.js && aws lambda update-function-code --function-name serverless-user-app-getAllUsers --zip-file fileb://getAllUsers.zip",
    "deploy:all": "yarn deploy:getUser && yarn deploy:addUser && yarn deploy:getAllUsers",
    "setup:local": "node scripts/create-local-table.js"
  },
  "dependencies": {
    "@aws-sdk/client-dynamodb": "^3.600.0",
    "@aws-sdk/lib-dynamodb": "^3.600.0",
    "dotenv": "^17.2.3",
    "dynamodb-admin": "^5.1.3"
  },
  "devDependencies": {
    "@types/aws-lambda": "^8.10.145",
    "@types/node": "^20.14.9",
    "esbuild": "^0.19.0",
    "serverless": "^3.38.0",
    "serverless-dotenv-plugin": "^6.0.0",
    "serverless-esbuild": "^1.52.0",
    "serverless-offline": "^13.3.3",
    "typescript": "^5.5.3"
  }
}
